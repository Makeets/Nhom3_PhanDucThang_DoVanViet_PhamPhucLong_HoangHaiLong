CREATE DATABASE QLHD
GO
USE QLHD

-- Tạo Bảng và khóa chính
CREATE TABLE HangHoa
(
MaHH VARCHAR(10) PRIMARY KEY,
TenHH VARCHAR(50),
QuiCach TEXT,
DVTinh INT,
Gia INT
)
CREATE TABLE ChiTietHD
(
HDSo VARCHAR(10),
MaHH VARCHAR(10),
SoLuong INT
)
CREATE TABLE HoaDon
(
HDSo VARCHAR(10) PRIMARY KEY,
Ngay DATE,
MaKH VARCHAR(10),
Gia INT
)
CREATE TABLE KhachHang
(
MaKH VARCHAR(10) PRIMARY KEY,
TenKH NVARCHAR(50),
SDT INT
)

ALTER TABLE dbo.ChiTietHD ADD FOREIGN KEY(HDSo) REFERENCES dbo.HoaDon
ALTER TABLE dbo.ChiTietHD ADD FOREIGN KEY(MaHH) REFERENCES dbo.HangHoa
ALTER TABLE dbo.HoaDon ADD FOREIGN KEY(MaKH) REFERENCES dbo.KhachHang

INSERT INTO dbo.HangHoa VALUES('001','Thinkpad X1 carbon gen 8','i5 10210u,8gb,ssd 256gb',25,27900)
INSERT INTO dbo.HangHoa VALUES('002','Thinkpad X1 nano','i7 1185g7,16gb,ssd 512gb',10,54900)
INSERT INTO dbo.HangHoa VALUES('003','Thinkpad X1 E490s','i5 10210u,8gb,ssd 256gb',30,15400)

INSERT INTO dbo.KhachHang VALUES('KH1',N'Nguyễn Văn Lộc',844657)
INSERT INTO dbo.KhachHang VALUES('KH2',N'Lê Xuân Thành',849302)
INSERT INTO dbo.KhachHang VALUES('KH3',N'Chu Quang Huy',841099)

INSERT INTO dbo.HoaDon VALUES('10001','20201130','KH1',27900)
INSERT INTO dbo.HoaDon VALUES('18479','20201012','KH2',54900)
INSERT INTO dbo.HoaDon VALUES('66699','20201119','KH3',15400)

INSERT INTO dbo.ChiTietHD VALUES('10001','001',1)
INSERT INTO dbo.ChiTietHD VALUES('18479','002',2)
INSERT INTO dbo.ChiTietHD VALUES('66699','003',1)